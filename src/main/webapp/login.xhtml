<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/public/css/companyLoginDesign.css" />
    </h:head>
    <h:body onload="fillLoginForm()">
        <div class="container">
            <div class="title">
                <p>Login</p>
            </div>
            <h:form>
                <div class="user_details">
                    <h:outputLabel style="margin-bottom: 10px;margin-left: -3px;" value="#{loginBean.errorstatus}" styleClass="error-label" />
                    <div class="input_box">
                        <h:outputLabel value="Email" />
                        <p:inputText placeholder="Enter your Email Address" id="emailaddress" value="#{loginBean.username}" />
                    </div>
                    <div class="input_box">
                        <h:outputLabel value="Password" />
                        <p:password placeholder="Enter your Password" id="password" value="#{loginBean.password}" />
                    </div>
                </div>
                <div class="remember-register">
                    <div class="remember-me" style="padding-left: 25px;">
                        <p:selectBooleanCheckbox value="#{loginBean.rememberme}" id="rememberMeCheckbox"/>
                        <h:outputText style="padding-left: 5px;" value="Remember Me" />
                        <h:outputLink style="margin-left: 35%;" value="#" onclick="PF('registerDialog').show(); return false;">Register?</h:outputLink>
                    </div>
                </div>
                <div style="margin-top: 0px;" class="reg_btn">
                    <p:commandButton action="#{loginBean.login()}" value="Login" update="@form" />    
                </div>
            </h:form>
        </div>
        
        <p:dialog header="Register" widgetVar="registerDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
            <h:form>
                <h:outputLabel value="Choose your role:" />
                <p:selectOneRadio value="#{registerBean.selectedRole}">
                    <f:selectItem itemLabel="Company" itemValue="Company" />
                    <f:selectItem itemLabel="User" itemValue="User" />
                </p:selectOneRadio><br></br>
                <div class="dialog-buttons">
                    <p:commandButton value="Continue" action="#{registerBean.proceedToRegister()}" oncomplete="PF('registerDialog').hide();" />
                </div>
            </h:form>
        </p:dialog>

        <script type="text/javascript" src="#{request.contextPath}/public/js/captcha.js"></script>
    </h:body>
</html>
